(()=>{"use strict";var e={427:e=>{e.exports=window.wp.components},715:e=>{e.exports=window.wp.blockEditor},723:e=>{e.exports=window.wp.i18n},790:e=>{e.exports=window.ReactJSXRuntime},997:e=>{e.exports=window.wp.blocks}},a={};function t(l){var i=a[l];if(void 0!==i)return i.exports;var n=a[l]={exports:{}};return e[l](n,n.exports,t),n.exports}var l=t(997),i=t(723),n=t(715),r=t(427);const o=window.wp.data,s=window.wp.element;var d=t(790);function p(e=20){let a;if("undefined"!=typeof crypto&&crypto.getRandomValues)a=new Uint8Array(Math.ceil(e/2)),crypto.getRandomValues(a);else{a=[];for(let t=0;t<Math.ceil(e/2);t++)a.push(Math.floor(256*Math.random()))}return"kanopi-example--"+Array.from(a,e=>e.toString(16).padStart(2,"0")).join("").slice(0,e)}function c(){return(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",children:(0,d.jsxs)("g",{id:"Group_347","data-name":"Group 347",transform:"translate(-397 -5537)",children:[(0,d.jsx)("rect",{id:"Rectangle_636","data-name":"Rectangle 636",width:"2",height:"16",transform:"translate(404 5537)",fill:"#43493a"}),(0,d.jsx)("rect",{id:"Rectangle_637","data-name":"Rectangle 637",width:"2",height:"16",transform:"translate(397 5546) rotate(-90)",fill:"#43493a"})]})})}const x=JSON.parse('{"UU":"kanopi-example/expandable-gallery-item"}');(0,l.registerBlockType)(x.UU,{edit:function({attributes:e,setAttributes:a,clientId:t}){var l,c,x;const g=(0,n.useBlockProps)(),{title:m,description:u,image:h,expandable_text:b,id:w}=e,v=(0,o.useSelect)(e=>{const{getBlockRootClientId:a,getBlock:l}=e("core/block-editor"),i=a(t);if(!i)return null;const n=l(i);return n?.attributes||null},[t]),y=null!==(l=v?.hideImage)&&void 0!==l&&l,j=null!==(c=v?.hideDescription)&&void 0!==c&&c,f=null!==(x=v?.hideExpandableText)&&void 0!==x&&x;return(0,s.useEffect)(()=>{v&&a(v),w||a({id:p(20)})},[v]),(0,d.jsxs)("div",{...g,children:[!y&&(0,d.jsx)(n.MediaUploadCheck,{children:(0,d.jsx)(n.MediaUpload,{onSelect:e=>{a({image:{id:e.id,url:e?.url,alt:e.alt}})},allowedTypes:["image"],value:h?.id,render:({open:e})=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r.Button,{onClick:e,className:"button button-large",children:h?.url?(0,i.__)("Edit Image","expandable-gallery"):(0,i.__)("Select Image","expandable-gallery")}),h?.url&&(0,d.jsx)("img",{src:h.url,width:"240",height:"240"})]})})}),(0,d.jsx)(n.RichText,{placeholder:(0,i.__)("Title","expandable-gallery"),value:m,onChange:e=>a({title:e}),tagName:"h3"}),!j&&(0,d.jsx)(n.RichText,{placeholder:(0,i.__)("Description","expandable-gallery"),value:u,onChange:e=>a({description:e}),tagName:"p",className:"gallery-item-description"}),!f&&(0,d.jsx)(n.RichText,{placeholder:(0,i.__)("Expandable Text","expandable-gallery"),value:b,onChange:e=>a({expandable_text:e}),tagName:"p",className:"gallery-item-expandable"})]})},save:function({attributes:e,clientId:a}){const{title:t,description:l,image:i,expandable_text:r,hideImage:o,hideDescription:s,hideExpandableText:p,id:x}=e;return(0,d.jsxs)("div",{...n.useBlockProps.save(),children:[(0,d.jsxs)("div",{className:"kanopi-example-expandable-gallery-content",children:[t&&""!==t&&(0,d.jsx)(n.RichText.Content,{tagName:"h3",value:t,className:"kanopi-example-expandable-gallery-title"}),!s&&l&&(0,d.jsx)(n.RichText.Content,{tagName:"p",value:l,className:"kanopi-example-expandable-gallery-text"})]}),!o&&i?.url&&(0,d.jsxs)("div",{className:"kanopi-example-expandable-gallery-image",children:[(0,d.jsx)("img",{src:i.url,alt:i.alt,className:`wp-image-${i.id}`,width:"240",height:"240"}),!p&&r&&(0,d.jsx)("button",{className:"kanopi-example-expandable-gallery-button",id:`gallery-btn-${x}`,"data-live":r,"data-id":x,"screen-reader-text":`Expand ${null!=t?t:"Section"} Details`,"aria-label":`Expand ${null!=t?t:"Section"} Details`,"aria-controls":`gallery-description-tablet gallery-description-desktop gallery-description-mobile-${a}`,"aria-expanded":"false",children:(0,d.jsx)(c,{})})]}),!p&&r&&(0,d.jsx)("div",{class:"kanopi-example-expandable-gallery-expandable-text mobile-render collapsed",role:"region","aria-live":"polite",id:`gallery-description-mobile-${x}`,children:r})]})}})})();