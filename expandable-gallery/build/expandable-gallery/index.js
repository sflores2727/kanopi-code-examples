(()=>{var e,a={135:()=>{function e(e,a,t){e.classList.toggle("expanded");const l=e.querySelector(".kanopi-example-expandable-gallery-expandable-text"),n=e.querySelector(".kanopi-example-expandable-gallery-button");e.classList.contains("expanded")?(n.setAttribute("aria-expanded",!0),a.classList.add("expanded"),t.classList.add("expanded")):(a.textContent="",t.textContent="",n.setAttribute("aria-expanded",!1),a.classList.remove("expanded"),t.classList.remove("expanded")),l.classList.toggle("expanded")}function a(e,a,t=2){return Math.floor(e/a)+t}document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelectorAll(".wp-block-kanopi-example-expandable-gallery");t&&t.forEach(t=>{const l=t.getAttribute("data-items-per-row");expandButtons=t.querySelectorAll(".kanopi-example-expandable-gallery-button");const n=t.querySelector(".kanopi-example-expandable-gallery-live-text-area"),r=t.querySelector(".kanopi-example-expandable-gallery-live-text-area-tablet");expandButtons.forEach((i,o)=>{i.addEventListener("click",i=>{const{liveText:s,galleryItem:d,id:p}=function(e){const a=e.closest(".kanopi-example-expandable-gallery-button"),t=e.closest(".wp-block-kanopi-example-expandable-gallery-item"),l=a.getAttribute("data-live"),n=a.getAttribute("id");return{btn:a,liveText:l,galleryItem:t,id:n}}(i.target);n.style.gridRowStart=a(o,l),r.style.gridRowStart=a(o,2),d.classList.contains("expanded")?e(d,n,r):(t.querySelectorAll(".wp-block-kanopi-example-expandable-gallery-item").forEach(e=>{!function(e){e.classList.remove("expanded");e.querySelector(".kanopi-example-expandable-gallery-button").setAttribute("aria-expanded",!1);e.querySelector(".kanopi-example-expandable-gallery-expandable-text").classList.remove("expanded")}(e)}),e(d,n,r),setTimeout(()=>{n.textContent="",r.textContent="",setTimeout(()=>{n.textContent=s,r.textContent=s},50)},10))})})})})},427:e=>{"use strict";e.exports=window.wp.components},516:(e,a,t)=>{"use strict";var l=t(997),n=(t(912),t(723)),r=t(715),i=t(427),o=t(790);const s=JSON.parse('{"UU":"kanopi-example/expandable-gallery"}');t(135),(0,l.registerBlockType)(s.UU,{edit:function({attributes:e,setAttributes:a}){const{itemsPerRow:t,hideImage:l,hideDescription:s,hideExpandableText:d}=e,p=(0,r.useBlockProps)();return p.style={"--items-per-row":`${t}`},(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(r.InspectorControls,{children:[(0,o.jsx)(i.PanelBody,{title:(0,n.__)("Grid Settings","expandable-gallery"),children:(0,o.jsx)(i.RangeControl,{label:(0,n.__)("Items per row","expandable-gallery"),value:e.itemsPerRow,onChange:e=>a({itemsPerRow:e}),min:1,max:4})}),(0,o.jsxs)(i.PanelBody,{title:(0,n.__)("Card Settings","expandable-gallery"),children:[(0,o.jsx)(i.ToggleControl,{label:(0,n.__)("Hide image","expandable-gallery"),checked:l,onChange:e=>a({hideImage:e})}),(0,o.jsx)(i.ToggleControl,{label:(0,n.__)("Hide description","expandable-gallery"),checked:s,onChange:e=>a({hideDescription:e})}),(0,o.jsx)(i.ToggleControl,{label:(0,n.__)("Hide expandable text","expandable-gallery"),checked:d,onChange:e=>a({hideExpandableText:e})})]})]}),(0,o.jsxs)("div",{...p,children:[(0,o.jsx)(r.InnerBlocks,{allowedBlocks:["expandable-gallery/expandable-gallery-item"]}),(0,o.jsx)("div",{className:"kanopi-example-expandable-gallery-expandable-text kanopi-example-expandable-gallery-live-text-area desktop-render",role:"region",id:"gallery-description-desktop","aria-live":"assertive"}),(0,o.jsx)("div",{className:"kanopi-example-expandable-gallery-expandable-text kanopi-example-expandable-gallery-live-text-area-tablet tablet-render",role:"region",id:"gallery-description-tablet","aria-live":"assertive"})]})]})},save:function({attributes:e}){const a=r.useBlockProps.save();return a.style={"--items-per-row":`${e.itemsPerRow}`},a["data-items-per-row"]=e.itemsPerRow,(0,o.jsx)("div",{...a,children:(0,o.jsxs)("div",{className:"kanopi-example-expandable-gallery-container",children:[(0,o.jsx)(r.InnerBlocks.Content,{}),(0,o.jsx)("div",{className:"kanopi-example-expandable-gallery-expandable-text kanopi-example-expandable-gallery-live-text-area desktop-render",role:"region",id:"gallery-description-desktop","aria-live":"assertive"}),(0,o.jsx)("div",{className:"kanopi-example-expandable-gallery-expandable-text kanopi-example-expandable-gallery-live-text-area-tablet tablet-render",role:"region",id:"gallery-description-tablet","aria-live":"assertive"})]})})}})},715:e=>{"use strict";e.exports=window.wp.blockEditor},723:e=>{"use strict";e.exports=window.wp.i18n},790:e=>{"use strict";e.exports=window.ReactJSXRuntime},912:(e,a,t)=>{"use strict";var l=t(997),n=t(723),r=t(715),i=t(427);const o=window.wp.data,s=window.wp.element;var d=t(790);function p(e=20){let a;if("undefined"!=typeof crypto&&crypto.getRandomValues)a=new Uint8Array(Math.ceil(e/2)),crypto.getRandomValues(a);else{a=[];for(let t=0;t<Math.ceil(e/2);t++)a.push(Math.floor(256*Math.random()))}return"kanopi-example--"+Array.from(a,e=>e.toString(16).padStart(2,"0")).join("").slice(0,e)}function x(){return(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",children:(0,d.jsxs)("g",{id:"Group_347","data-name":"Group 347",transform:"translate(-397 -5537)",children:[(0,d.jsx)("rect",{id:"Rectangle_636","data-name":"Rectangle 636",width:"2",height:"16",transform:"translate(404 5537)",fill:"#43493a"}),(0,d.jsx)("rect",{id:"Rectangle_637","data-name":"Rectangle 637",width:"2",height:"16",transform:"translate(397 5546) rotate(-90)",fill:"#43493a"})]})})}const c=JSON.parse('{"UU":"kanopi-example/expandable-gallery-item"}');(0,l.registerBlockType)(c.UU,{edit:function({attributes:e,setAttributes:a,clientId:t}){var l,x,c;const g=(0,r.useBlockProps)(),{title:b,description:m,image:u,expandable_text:h,id:y}=e,v=(0,o.useSelect)(e=>{const{getBlockRootClientId:a,getBlock:l}=e("core/block-editor"),n=a(t);if(!n)return null;const r=l(n);return r?.attributes||null},[t]),k=null!==(l=v?.hideImage)&&void 0!==l&&l,w=null!==(x=v?.hideDescription)&&void 0!==x&&x,j=null!==(c=v?.hideExpandableText)&&void 0!==c&&c;return(0,s.useEffect)(()=>{v&&a(v),y||a({id:p(20)})},[v]),(0,d.jsxs)("div",{...g,children:[!k&&(0,d.jsx)(r.MediaUploadCheck,{children:(0,d.jsx)(r.MediaUpload,{onSelect:e=>{a({image:{id:e.id,url:e?.url,alt:e.alt}})},allowedTypes:["image"],value:u?.id,render:({open:e})=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.Button,{onClick:e,className:"button button-large",children:u?.url?(0,n.__)("Edit Image","expandable-gallery"):(0,n.__)("Select Image","expandable-gallery")}),u?.url&&(0,d.jsx)("img",{src:u.url,width:"240",height:"240"})]})})}),(0,d.jsx)(r.RichText,{placeholder:(0,n.__)("Title","expandable-gallery"),value:b,onChange:e=>a({title:e}),tagName:"h3"}),!w&&(0,d.jsx)(r.RichText,{placeholder:(0,n.__)("Description","expandable-gallery"),value:m,onChange:e=>a({description:e}),tagName:"p",className:"gallery-item-description"}),!j&&(0,d.jsx)(r.RichText,{placeholder:(0,n.__)("Expandable Text","expandable-gallery"),value:h,onChange:e=>a({expandable_text:e}),tagName:"p",className:"gallery-item-expandable"})]})},save:function({attributes:e,clientId:a}){const{title:t,description:l,image:n,expandable_text:i,hideImage:o,hideDescription:s,hideExpandableText:p,id:c}=e;return(0,d.jsxs)("div",{...r.useBlockProps.save(),children:[(0,d.jsxs)("div",{className:"kanopi-example-expandable-gallery-content",children:[t&&""!==t&&(0,d.jsx)(r.RichText.Content,{tagName:"h3",value:t,className:"kanopi-example-expandable-gallery-title"}),!s&&l&&(0,d.jsx)(r.RichText.Content,{tagName:"p",value:l,className:"kanopi-example-expandable-gallery-text"})]}),!o&&n?.url&&(0,d.jsxs)("div",{className:"kanopi-example-expandable-gallery-image",children:[(0,d.jsx)("img",{src:n.url,alt:n.alt,className:`wp-image-${n.id}`,width:"240",height:"240"}),!p&&i&&(0,d.jsx)("button",{className:"kanopi-example-expandable-gallery-button",id:`gallery-btn-${c}`,"data-live":i,"data-id":c,"screen-reader-text":`Expand ${null!=t?t:"Section"} Details`,"aria-label":`Expand ${null!=t?t:"Section"} Details`,"aria-controls":`gallery-description-tablet gallery-description-desktop gallery-description-mobile-${a}`,"aria-expanded":"false",children:(0,d.jsx)(x,{})})]}),!p&&i&&(0,d.jsx)("div",{class:"kanopi-example-expandable-gallery-expandable-text mobile-render collapsed",role:"region","aria-live":"polite",id:`gallery-description-mobile-${c}`,children:i})]})}})},997:e=>{"use strict";e.exports=window.wp.blocks}},t={};function l(e){var n=t[e];if(void 0!==n)return n.exports;var r=t[e]={exports:{}};return a[e](r,r.exports,l),r.exports}l.m=a,e=[],l.O=(a,t,n,r)=>{if(!t){var i=1/0;for(p=0;p<e.length;p++){for(var[t,n,r]=e[p],o=!0,s=0;s<t.length;s++)(!1&r||i>=r)&&Object.keys(l.O).every(e=>l.O[e](t[s]))?t.splice(s--,1):(o=!1,r<i&&(i=r));if(o){e.splice(p--,1);var d=n();void 0!==d&&(a=d)}}return a}r=r||0;for(var p=e.length;p>0&&e[p-1][2]>r;p--)e[p]=e[p-1];e[p]=[t,n,r]},l.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={108:0,511:0,867:0,183:0};l.O.j=a=>0===e[a];var a=(a,t)=>{var n,r,[i,o,s]=t,d=0;if(i.some(a=>0!==e[a])){for(n in o)l.o(o,n)&&(l.m[n]=o[n]);if(s)var p=s(l)}for(a&&a(t);d<i.length;d++)r=i[d],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(p)},t=globalThis.webpackChunkexpandable_gallery=globalThis.webpackChunkexpandable_gallery||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))})();var n=l.O(void 0,[183],()=>l(516));n=l.O(n)})();