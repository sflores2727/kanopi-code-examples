(()=>{function e(e,t,a){e.classList.toggle("expanded");const l=e.querySelector(".kanopi-example-expandable-gallery-expandable-text"),n=e.querySelector(".kanopi-example-expandable-gallery-button");e.classList.contains("expanded")?(n.setAttribute("aria-expanded",!0),t.classList.add("expanded"),a.classList.add("expanded")):(t.textContent="",a.textContent="",n.setAttribute("aria-expanded",!1),t.classList.remove("expanded"),a.classList.remove("expanded")),l.classList.toggle("expanded")}function t(e,t,a=2){return Math.floor(e/t)+a}document.addEventListener("DOMContentLoaded",()=>{const a=document.querySelectorAll(".wp-block-kanopi-example-expandable-gallery");a&&a.forEach(a=>{const l=a.getAttribute("data-items-per-row");expandButtons=a.querySelectorAll(".kanopi-example-expandable-gallery-button");const n=a.querySelector(".kanopi-example-expandable-gallery-live-text-area"),o=a.querySelector(".kanopi-example-expandable-gallery-live-text-area-tablet");expandButtons.forEach((r,d)=>{r.addEventListener("click",r=>{const{liveText:i,galleryItem:p,id:s}=function(e){const t=e.closest(".kanopi-example-expandable-gallery-button"),a=e.closest(".wp-block-kanopi-example-expandable-gallery-item"),l=t.getAttribute("data-live"),n=t.getAttribute("id");return{btn:t,liveText:l,galleryItem:a,id:n}}(r.target);n.style.gridRowStart=t(d,l),o.style.gridRowStart=t(d,2),p.classList.contains("expanded")?e(p,n,o):(a.querySelectorAll(".wp-block-kanopi-example-expandable-gallery-item").forEach(e=>{!function(e){e.classList.remove("expanded");e.querySelector(".kanopi-example-expandable-gallery-button").setAttribute("aria-expanded",!1);e.querySelector(".kanopi-example-expandable-gallery-expandable-text").classList.remove("expanded")}(e)}),e(p,n,o),setTimeout(()=>{n.textContent="",o.textContent="",setTimeout(()=>{n.textContent=i,o.textContent=i},50)},10))})})})})})();